docker buildx create --name mybuilder --driver bxname --use --bootstrap
docker buildx inspect --bootstrap

docker buildx use mybuilder2


docker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7 \
  -t yourusername/multi-arch-demo:latest \
  --push .



# Create a parallel multi-platform builder
docker buildx create --name mybuilder --use
# Make "buildx" the default
docker buildx install
# Build for multiple platforms
docker build --platform linux/amd64,linux/arm64 .


| Driver Name          | Description                                                          | Pros                                                      | Cons                                             |
| -------------------- | -------------------------------------------------------------------- | --------------------------------------------------------- | ------------------------------------------------ |
| **docker**           | Uses the **local Docker engine**.                                    | Simple, fast, no extra setup                              | Single-arch builds only (usually)                |
| **docker-container** | Runs BuildKit inside a **container**.                                | Multiarch support via QEMU, isolated environment, caching | Slightly slower, needs bootstrap (`--bootstrap`) |
| **kubernetes**       | Uses a **K8s cluster** to run builds.                                | Can scale builds massively, distributed caching           | Requires a K8s cluster                           |
| **remote**           | Uses **remote BuildKit hosts** via TCP.                              | Remote/offloaded builds                                   | Needs network setup, security config             |
| **custom**           | You can write a custom driver pointing to a specific BuildKit setup. | Full control                                              | Advanced setup                                   |






---------------


# AMD64
$ docker build -t your-username/multiarch-example:manifest-amd64 --build-arg ARCH=amd64/ .
$ docker push your-username/multiarch-example:manifest-amd64

# ARM32V7
$ docker build -t your-username/multiarch-example:manifest-arm32v7 --build-arg ARCH=arm32v7/ .
$ docker push your-username/multiarch-example:manifest-arm32v7

# ARM64V8
$ docker build -t your-username/multiarch-example:manifest-arm64v8 --build-arg ARCH=arm64v8/ .
$ docker push your-username/multiarch-example:manifest-arm64v8 


$ docker manifest create \
your-username/multiarch-example:manifest-latest \
--amend your-username/multiarch-example:manifest-amd64 \
--amend your-username/multiarch-example:manifest-arm32v7 \
--amend your-username/multiarch-example:manifest-arm64v8 


$ docker manifest push your-username/multiarch-example:manifest-latest

If you now go to Docker Hub, youâ€™ll be able to see the new tag referencing the image
