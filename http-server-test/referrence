# ğŸ“‘ Quick Reference Guide

## ğŸ“ Complete File List (15 Files Total)

### Core Application (3 files)
```
index.php                           âœ… UPDATED with all new tabs
sections/server-info-sections.php   âœ… UPDATED with enhanced SSL/TLS
assets/js/main.js                   âœ… UPDATED with all new features
```

### API Endpoints (9 files)
```
api/download.php              âœ… Download speed test
api/upload.php                âœ… Upload speed test
api/stress-test.php           âœ… HTTP stress testing
api/user-agent-test.php       âœ… User-agent spoofing
api/sticky-test.php           âœ… NEW - Session stickiness
api/websocket-server.php      âœ… NEW - WebSocket echo server
api/health-check.php          âœ… NEW - Health check simulator
api/headers-test.php          âœ… NEW - Custom headers testing
api/parallel-test.php         âœ… NEW - Parallel connections
```

### Configuration & Helpers (2 files)
```
includes/config.php           âœ… Configuration settings
includes/helpers.php          âœ… Utility functions
```

### Documentation (1 file)
```
README.md                     âœ… Complete documentation
```

---

## ğŸ¯ Feature Overview

| # | Feature | Tab | API Endpoint | Status |
|---|---------|-----|--------------|--------|
| 1 | Server Info | ğŸ“Š Server Info | - | âœ… Enhanced |
| 2 | Download Test | â¬‡ï¸ Download | `api/download.php` | âœ… |
| 3 | Upload Test | â¬†ï¸ Upload | `api/upload.php` | âœ… |
| 4 | Stress Test | ğŸ”¥ Stress Test | `api/stress-test.php` | âœ… |
| 5 | **WebSocket** | ğŸ”Œ WebSocket | `api/websocket-server.php` | âœ… NEW |
| 6 | **Custom Headers** | ğŸ“‹ Headers | `api/headers-test.php` | âœ… NEW |
| 7 | **Session Sticky** | ğŸ”„ Session Sticky | `api/sticky-test.php` | âœ… NEW |
| 8 | **Parallel Connections** | âš¡ Parallel | `api/parallel-test.php` | âœ… NEW |
| 9 | **Health Check** | ğŸ’š Health Check | `api/health-check.php` | âœ… NEW |
| 10 | Cookie Manager | ğŸª Cookies | - | âœ… |
| 11 | User-Agent | ğŸŒ User-Agent | `api/user-agent-test.php` | âœ… |
| 12 | **HTTP Version** | Header Bar | Auto-detected | âœ… NEW |
| 13 | **SSL/TLS + mTLS** | Server Info | Enhanced section | âœ… NEW |

---

## âš¡ Quick Start Testing

### Test 1: Basic Connectivity (2 min)
```
1. Open app in browser
2. Check HTTP version badge (top right)
3. Click "Server Info" â†’ Verify all sections load
4. Done!
```

### Test 2: WebSocket (1 min)
```
1. Click "WebSocket" tab
2. Click "Connect" (uses public echo server)
3. Type "hello" â†’ Click "Send"
4. Should see "hello" echoed back
```

### Test 3: Session Stickiness (1 min)
```
1. Click "Session Sticky" tab
2. Click "Test Session Stickiness" (uses defaults)
3. Watch requests complete
4. Check if "âœ“ STICKY" or "âœ— NOT STICKY"
```

### Test 4: Custom Headers (1 min)
```
1. Click "Headers" tab
2. Add header: Name="Test" Value="123"
3. Click "Add Header"
4. Click "Test Request with Custom Headers"
5. See server response
```

### Test 5: SSL/TLS Info (30 sec)
```
1. Access via HTTPS: https://your-server/
2. Click "Server Info" tab
3. Expand "ğŸ”’ SSL/TLS & mTLS Info"
4. Check protocol, cipher, session ID
```

---

## ğŸ”§ Configuration Quick Reference

### Enable mTLS Testing
```apache
# Apache SSL config
SSLVerifyClient optional
SSLVerifyDepth 1
SSLCACertificateFile /path/to/ca.crt
SSLOptions +StdEnvVars +ExportCertData
```

### HAProxy WebSocket Support
```haproxy
frontend http_front
    bind *:80
    
    # WebSocket upgrade
    acl is_websocket hdr(Upgrade) -i WebSocket
    use_backend websocket_back if is_websocket
    
    default_backend web_back

backend websocket_back
    timeout tunnel 3600s
    server ws1 192.168.1.10:8080 check
```

### HAProxy Session Stickiness
```haproxy
backend web_back
    balance roundrobin
    cookie SERVERID insert indirect nocache
    
    server web1 192.168.1.10:80 check cookie web1
    server web2 192.168.1.11:80 check cookie web2
```

### HAProxy Health Checks
```haproxy
backend web_back
    option httpchk GET /api/health-check.php
    http-check expect status 200
    
    server web1 192.168.1.10:80 check inter 5s fall 3 rise 2
    server web2 192.168.1.11:80 check inter 5s fall 3 rise 2
```

---

## ğŸ› Quick Troubleshooting

### Issue: WebSocket won't connect
```bash
# Check if upgrade header is passed
curl -i -N -H "Connection: Upgrade" \
     -H "Upgrade: websocket" \
     http://your-server/api/websocket-server.php
```

### Issue: Sessions not sticky
```bash
# Test with curl (maintains cookies)
curl -c cookies.txt http://your-server/api/sticky-test.php
curl -b cookies.txt http://your-server/api/sticky-test.php
# Should hit same server both times
```

### Issue: Health checks failing
```bash
# Test health endpoint directly
curl -i http://your-server/api/health-check.php

# Test with custom status
curl -i "http://your-server/api/health-check.php?status=503"
```

### Issue: Parallel connections failing
```bash
# Check connection limits
# Apache
apachectl -M | grep mpm
cat /etc/apache2/mods-available/mpm_event.conf

# Nginx
grep worker_connections /etc/nginx/nginx.conf
```

---

## ğŸ“Š Testing Checklist

Use this when setting up a new server/proxy:

- [ ] **HTTP Version** - Check badge shows HTTP/2
- [ ] **SSL/TLS** - Verify TLS 1.3, 256-bit cipher
- [ ] **SSL Session** - Confirm session ID present, reuse working
- [ ] **mTLS** - If required, verify client cert validation
- [ ] **WebSocket** - Connect successfully, messages work
- [ ] **Headers** - Custom headers pass through unchanged
- [ ] **Session Sticky** - 100% requests to same server
- [ ] **Health Check** - Responds with 200 OK in <50ms
- [ ] **Parallel** - 50 concurrent connections succeed
- [ ] **Stress Test** - 1000 requests complete, <100ms average
- [ ] **Download** - 100MB downloads successfully
- [ ] **Upload** - 10MB uploads successfully

---

## ğŸ’¡ Pro Tips

### Tip 1: Browser DevTools
```
F12 â†’ Network tab
- See actual WebSocket frames
- Check request/response headers
- Monitor timing
```

### Tip 2: Test Combinations
```
Run parallel connections + stress test simultaneously
= Real-world load testing
```

### Tip 3: Export Results
```
Screenshot each test result
Create baseline documentation
Compare after changes
```

### Tip 4: Automation
```javascript
// Run all tests programmatically
const tests = [
    testDownload,
    testUpload,
    testStickiness,
    testWebSocket,
    testHealthCheck
];

for (const test of tests) {
    await test();
}
```

---

## ğŸ“ Support

### All artifacts created:
1. index.php - Main application
2. server-info-sections.php - Server details
3. main.js - JavaScript functionality
4-9. API endpoints (6 files)
10-11. Config & helpers (2 files)
12. README.md - Documentation
13. Features summary - This guide

### Files contain:
- âœ… Complete working code
- âœ… Error handling
- âœ… CORS support
- âœ… Responsive UI
- âœ… Real-time updates
- âœ… Comprehensive logging

### Ready to use!
Just copy the artifacts and start testing. All features are fully functional.

---

**Total: 15 files | 13 features | 11 tabs | 9 API endpoints**

ğŸ‰ **Your testing suite is complete and ready!** ğŸ‰